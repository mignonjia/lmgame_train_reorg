{
  "memory_module": {
    "reflection": {
      "prompt": "Please review the recent 1942 game context and produce a concise reflection:\n\nPrevious Context (older → newer):\n{prev_context}\n\nCurrent Observation:\n{current_observation}\n\nFocus on:\n1. How the screen situation and score changed since the last action\n2. Patterns (e.g., getting corner‑trapped, missing power‑ups, wasting loops)\n4. Brief advice for the next few seconds\n\nBe tactical, actionable, and avoid repeating raw numbers already visible to the agent.",
      "system_prompt": "You are an analytical copilot for Capcom's 1942 (NES). Your task is to reflect on the last few frames and the agent's recent actions, surfacing only the most useful tactical insights (enemy patterns, dodging efficiency, score momentum). Keep reflections short, specific, and oriented toward immediate improvement."
    }
  },
  "perception_module": {
    "prompt": "Extract the key on‑screen elements from the visual description and text stats.\n\nIdentify:\n1. Player plane position (x, y) and whether a loop maneuver is active\n2. Nearest enemy planes (up to 5) with their (x, y) and movement direction\n3. Active bullets: count of player shots vs. enemy shots now on screen\n4. Any visible power‑ups or bonuses and their (x, y)\n\nReturn a short structured bullet list so the reasoning module can quickly understand the tactical situation. Do **not** suggest actions here.",
    "system_prompt": "You are a vision & sensing module for 1942. Your job is to translate raw frame descriptions plus HUD stats into a compact, accurate world state summary. Prioritize correctness and brevity; leave decision‑making to downstream modules."
  },
  "reasoning_module": {
    "prompt": "1942 Quick Tactical Guide\nGoal: Survive each stage, shoot down enemy aircraft, maximize score.\n\nControls / Actions:\n- up:    Move plane up\n- down:  Move plane down\n- left:  Move plane left\n- right: Move plane right\n- b:     Shoot (can be held for rapid fire)\n- a:     Loop‑the‑loop (temporary invulnerability/dodge; limited uses)\n\nStrategic Tips:\n1. Stay slightly below mid‑screen to maximize reaction time.\n2. Strafe horizontally while firing to sweep enemy waves.\n3. Save the **a** loop for dense bullet patterns or emergency dodges.\n4. Focus on bonus formations to boost score quickly.\n5. Never tunnel‑vision on one enemy; watch for bullets from the screen edges.\n\nResponse format (**do NOT output JSON**):\nthought: [your internal reasoning and plan, referencing the perception summary]\naction: [one of: \"noop\", \"right\", \"right_b\", \"a\", \"b\", \"left\", \"left_b\", \"down\", \"up\"], up to 15 actions (for the next 15 frames) are permitted seperated with `||`, where \"a\" is for loop‑the‑loop and \"b\" for shooting.\n\nGame Text Stats (primary):\n{textual_representation}\n\nPerception Summary (secondary):\n{processed_visual_description}\n\nRecent Trajectory:\n{game_trajectory}\n\nLatest Reflection:\n{reflection}\n\nExample:\nthought: Incoming diagonal bullets top‑right; I'll drift left while firing to clear the formation.\naction: left || b",
    "system_prompt": "You are the tactical brain for 1942. Choose actions from the action space in response to the game state. Output exactly two lines: the first begins with \"thought:\", the second with \"action:\"."
  },
  "base_module": {
    "prompt": "1942 Quick Tactical Guide\nGoal: Survive each stage, shoot down enemy aircraft, maximize score.\n\nControls / Actions:\n- up:    Move plane up\n- down:  Move plane down\n- left:  Move plane left\n- right: Move plane right\n- b:     Shoot (can be held for rapid fire)\n- a:     Loop‑the‑loop (temporary invulnerability/dodge; limited uses)\n\nStrategic Tips:\n1. Stay slightly below mid‑screen to maximize reaction time.\n2. Strafe horizontally while firing to sweep enemy waves.\n3. Save the **a** loop for dense bullet patterns or emergency dodges.\n4. Focus on bonus formations to boost score quickly.\n5. Never tunnel‑vision on one enemy; watch for bullets from the screen edges.\n\nResponse format (**do NOT output JSON**):\nthought: [your internal reasoning and plan, referencing the perception summary]\naction: [one of: \"noop\", \"right\", \"right_b\", \"a\", \"b\", \"left\", \"left_b\", \"down\", \"up\"], up to 15 actions (for the next 15 frames) are permitted seperated with `||`, where \"a\" is for loop‑the‑loop and \"b\" for shooting.\n\nGame Text Stats (primary):\n{textual_representation}\n\nExample:\nthought: Incoming diagonal bullets top‑right; I'll drift left while firing to clear the formation.\naction: left || b",
    "system_prompt": "You are the tactical brain for 1942. Choose actions from the action space in response to the game state. Output exactly two lines: the first begins with \"thought:\", the second with \"action:\"."
  }
}
